(function(){"use strict";var t={8403:function(t,e,o){o(6992),o(8674),o(9601),o(7727);var r=o(144),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("Header"),o("v-main",[o("v-container",[o("router-view",{attrs:{books:t.books},on:{"add-book-list":t.addBook,"update-book-info":t.updateBookInfo,"delete-local-storage":t.deleteAll,"delete-item":t.removeBook}})],1)],1)],1)},a=[],i=(o(2526),o(1817),o(7042),o(561),o(8862),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[o("v-spacer")],1)],1)}),s=[],c={name:"header-component",data:function(){return{}}},l=c,d=o(1001),u=o(3453),v=o.n(u),m=o(3583),f=o(9762),p=(0,d.Z)(l,i,s,!1,null,null,null),k=p.exports;v()(p,{VAppBar:m.Z,VSpacer:f.Z});var h="books",b={name:"App",components:{Header:k},data:function(){return{books:[],newBooks:null}},methods:{addBook:function(t){t&&(this.books.push({id:this.books.length,title:t.title,image:t.image,description:t.description,readDate:"",memo:""}),this.saveBook(),this.goToEditPage(this.books.slice(-1)[0].id))},updateBookInfo:function(t){var e={id:t.id,readDate:t.readDate,memo:t.memo,title:this.books[t.id].title,image:this.books[t.id].image,description:this.books[t.id].description};this.books.splice(t.id,1,e),this.saveBook()},removeBook:function(t){this.books.splice(t.id,1),this.saveBook(),this.$router.push("/")},saveBook:function(){var t=JSON.stringify(this.books);localStorage.setItem(h,t)},deleteAll:function(){var t="deleteALL?";window.confirm(t)&&(localStorage.setItem(h,""),localStorage.removeItem(h),this.books=[],window.location.reload())},goToEditPage:function(t){this.$router.push("/edit/".concat(t))}},mounted:function(){if(localStorage.getItem(h))try{this.books=JSON.parse(localStorage.getItem(h))}catch(t){localStorage.removeItem(h)}}},g=b,w=o(7524),Z=o(9846),y=o(7877),_=(0,d.Z)(g,n,a,!1,null,null,null),x=_.exports;v()(_,{VApp:w.Z,VContainer:Z.Z,VMain:y.Z});var V=o(8345),C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-row",[o("v-col",{attrs:{cols:"1"}},[o("v-btn",{attrs:{depressed:"",to:"/search"}},[t._v(" 本を探す ")])],1),o("v-col",{attrs:{cols:"10"}},[o("v-spacer")],1),o("v-col",{attrs:{cols:"1"}},[o("v-btn",{attrs:{depressed:"",color:"error"},on:{click:t.deleteLocalStrorage}},[t._v(" delete ")])],1)],1),o("v-row",t._l(t.books,(function(e){return o("v-col",{key:e.id,attrs:{cols:"12",md:"6"}},[o("v-card",{staticClass:"mx-auto py-2"},[o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-img",{attrs:{src:e.image}})],1),o("v-col",{attrs:{cols:"7"}},[o("v-row",[o("v-card-title",[t._v(t._s(e.title))])],1),o("v-row",[t._v("読んだ日:"+t._s(e.readDate))]),o("v-row",[t._v(t._s(e.description))]),o("v-spacer",{staticClass:"my-2"}),o("v-row",{staticClass:"justify-center"},[o("v-card-actions",[o("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"indigo",to:{name:"BookEdit",params:{id:e.id}}}},[o("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil")])],1)],1)],1)],1)],1)],1)],1)})),1)],1)},S=[],B={name:"book-index-component",props:{books:Array},data:function(){return{book:"",date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1}},methods:{deleteLocalStrorage:function(){this.$emit("delete-local-storage")}}},I=B,O=o(1565),$=o(2371),T=o(7118),D=o(2102),E=o(6428),j=o(7047),A=o(2877),R=(0,d.Z)(I,C,S,!1,null,null,null),L=R.exports;v()(R,{VBtn:O.Z,VCard:$.Z,VCardActions:T.h7,VCardTitle:T.EB,VCol:D.Z,VIcon:E.Z,VImg:j.Z,VRow:A.Z,VSpacer:f.Z});var P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-row",[o("v-col",{attrs:{cols:"8",md:"5"}},[o("v-text-field",{attrs:{label:""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),o("v-col",{staticClass:"d-flex align-center",attrs:{cols:"2"}},[o("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.search(t.keyword)}}},[t._v(" search ")])],1)],1),o("v-row",t._l(t.searchResults,(function(e,r){return o("v-col",{key:r,attrs:{cols:"12",md:"6"}},[o("v-card",{staticClass:"mx-auto py-2"},[o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-img",{attrs:{src:e.image}})],1),o("v-col",{attrs:{cols:"7"}},[o("v-row",[o("v-card-title",[t._v(t._s(e.title))])],1),o("v-row",[t._v(t._s(e.description))]),o("v-spacer",{staticClass:"my-2"}),o("v-row",{staticClass:"justify-center"},[o("v-card-actions",[o("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"indigo"},on:{click:function(e){return t.addBookList(r)}}},[o("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1)],1)],1)],1)],1)],1)})),1)],1)},M=[],F=o(7906),H=o(2032),z=o(6198),J=(o(1539),o(8783),o(3948),o(1637),o(9714),{name:"book-serach-component",data:function(){return{keyword:"",searchResults:[]}},methods:{addBookList:function(t){this.$emit("add-book-list",this.searchResults[t])},search:function(t){var e=this;return(0,z.Z)((0,F.Z)().mark((function o(){var r,n,a,i,s,c,l,d,u,v;return(0,F.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.searchResults=[],r="https://www.googleapis.com/books/v1/volumes?",n={q:"intitle:".concat(t),maxResults:40},a=new URLSearchParams(n),console.log(a.toString()),console.log(r+a),o.next=8,fetch(r+a).then((function(t){return t.json()}));case 8:i=o.sent,s=(0,H.Z)(i.items);try{for(s.s();!(c=s.n()).done;)l=c.value,d=l.volumeInfo.title,u=l.volumeInfo.imageLinks,v=l.volumeInfo.description,e.searchResults.push({title:d||"",image:u?u.thumbnail:"",description:v?v.slice(0,40):""})}catch(m){s.e(m)}finally{s.f()}case 11:case"end":return o.stop()}}),o)})))()}}}),N=J,q=o(5337),K=(0,d.Z)(N,P,M,!1,null,null,null),U=K.exports;v()(K,{VBtn:O.Z,VCard:$.Z,VCardActions:T.h7,VCardTitle:T.EB,VCol:D.Z,VIcon:E.Z,VImg:j.Z,VRow:A.Z,VSpacer:f.Z,VTextField:q.Z});var G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-card",{staticClass:"mx-auto"},[o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-img",{attrs:{src:t.book.image}})],1),o("v-col",{attrs:{cols:"7"}},[o("v-row",[o("v-col"),o("v-col",[o("v-btn",{attrs:{depressed:"",color:"error"},on:{click:t.deleteItem}},[t._v(" delete ")])],1)],1),o("v-row",[o("v-card-title",[t._v("title:"+t._s(t.book.title))])],1),o("v-row",[t._v(t._s(t.book.description))]),o("v-spacer",{staticClass:"my-2"}),o("v-row",[o("v-dialog",{ref:"dialog",attrs:{"return-value":t.date,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[o("v-text-field",t._g(t._b({attrs:{label:"読んだ日:","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",n,!1),r))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[o("v-date-picker",{attrs:{scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[o("v-spacer"),o("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v(" Cancel ")]),o("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date)}}},[t._v(" OK ")])],1)],1)],1),o("v-row",[o("v-textarea",{attrs:{name:"input-7-1",label:"感想",value:"",hint:"Hint text"},model:{value:t.book.memo,callback:function(e){t.$set(t.book,"memo",e)},expression:"book.memo"}})],1),o("v-row",{staticClass:"justify-center"},[o("v-card-actions",[o("v-btn",{staticClass:"secondary",attrs:{to:"/"}},[t._v(" 一覧に戻る ")]),o("v-btn",{staticClass:"info",on:{click:t.updateBookInfo}},[t._v(" 保存 ")])],1)],1)],1)],1)],1)],1)],1)],1)},Q=[],W={name:"book-index-component",props:{books:Array},data:function(){return{book:"",date:"",menu:!1,modal:!1,menu2:!1}},methods:{updateBookInfo:function(){this.$emit("update-book-info",{id:this.$route.params.id,readDate:this.date,memo:this.book.memo})},deleteItem:function(){window.confirm("wanna delete?")&&this.$emit("delete-item",{id:this.$route.params.id})}},beforeRouteEnter:function(t,e,o){o((function(t){t.$nextTick((function(){t.book=t.books[t.$route.params.id],t.book.readDate?t.date=t.book.readDate:t.date=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}))}))}},X=W,Y=o(2594),tt=o(5049),et=o(4350),ot=(0,d.Z)(X,G,Q,!1,null,null,null),rt=ot.exports;v()(ot,{VBtn:O.Z,VCard:$.Z,VCardActions:T.h7,VCardTitle:T.EB,VCol:D.Z,VDatePicker:Y.Z,VDialog:tt.Z,VImg:j.Z,VRow:A.Z,VSpacer:f.Z,VTextField:q.Z,VTextarea:et.Z}),r.Z.use(V.Z);var nt=new V.Z({mode:"history",routes:[{path:"/",name:"BookIndex",component:L},{path:"/search",name:"BookSearch",component:U},{path:"/edit/:id",name:"BookEdit",component:rt}]}),at=o(858);r.Z.use(at.Z);var it=new at.Z({});r.Z.config.productionTip=!1,new r.Z({vuetify:it,router:nt,render:function(t){return t(x)}}).$mount("#app")}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,r,n,a){if(!r){var i=1/0;for(d=0;d<t.length;d++){r=t[d][0],n=t[d][1],a=t[d][2];for(var s=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every((function(t){return o.O[t](r[c])}))?r.splice(c--,1):(s=!1,a<i&&(i=a));if(s){t.splice(d--,1);var l=n();void 0!==l&&(e=l)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[r,n,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,a,i=r[0],s=r[1],c=r[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(c)var d=c(o)}for(e&&e(r);l<i.length;l++)a=i[l],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(d)},r=self["webpackChunkbookapp"]=self["webpackChunkbookapp"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(8403)}));r=o.O(r)})();
//# sourceMappingURL=app-legacy.ba2c4697.js.map