(function(){"use strict";var t={8403:function(t,e,o){var r=o(144),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("Header"),o("v-main",[o("v-container",[o("router-view",{attrs:{books:t.books},on:{"add-book-list":t.addBook,"update-book-info":t.updateBookInfo,"delete-local-storage":t.deleteAll,"delete-item":t.removeBook}})],1)],1)],1)},n=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[o("v-spacer")],1)],1)},i=[],l={name:"header-component",data:()=>({})},c=l,d=o(1001),u=o(3453),v=o.n(u),m=o(3583),p=o(9762),f=(0,d.Z)(c,s,i,!1,null,null,null),k=f.exports;v()(f,{VAppBar:m.Z,VSpacer:p.Z});const b="books";var h={name:"App",components:{Header:k},data(){return{books:[],newBooks:null}},methods:{addBook(t){t&&(this.books.push({id:this.books.length,title:t.title,image:t.image,description:t.description,readDate:"",memo:""}),this.saveBook(),this.goToEditPage(this.books.slice(-1)[0].id))},updateBookInfo(t){const e={id:t.id,readDate:t.readDate,memo:t.memo,title:this.books[t.id].title,image:this.books[t.id].image,description:this.books[t.id].description};this.books.splice(t.id,1,e),this.saveBook()},removeBook(t){this.books.splice(t.id,1),this.saveBook(),this.$router.push("/")},saveBook(){const t=JSON.stringify(this.books);localStorage.setItem(b,t)},deleteAll(){const t="deleteALL?";window.confirm(t)&&(localStorage.setItem(b,""),localStorage.removeItem(b),this.books=[],window.location.reload())},goToEditPage(t){this.$router.push(`/edit/${t}`)}},mounted(){if(localStorage.getItem(b))try{this.books=JSON.parse(localStorage.getItem(b))}catch(t){localStorage.removeItem(b)}}},g=h,w=o(7524),y=o(9846),Z=o(7877),_=(0,d.Z)(g,a,n,!1,null,null,null),V=_.exports;v()(_,{VApp:w.Z,VContainer:y.Z,VMain:Z.Z});var x=o(8345),C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-row",[o("v-col",{attrs:{cols:"1"}},[o("v-btn",{attrs:{depressed:"",to:"/search"}},[t._v(" 本を探す ")])],1),o("v-col",{attrs:{cols:"10"}},[o("v-spacer")],1),o("v-col",{attrs:{cols:"1"}},[o("v-btn",{attrs:{depressed:"",color:"error"},on:{click:t.deleteLocalStrorage}},[t._v(" delete ")])],1)],1),o("v-row",t._l(t.books,(function(e){return o("v-col",{key:e.id,attrs:{cols:"12",md:"6"}},[o("v-card",{staticClass:"mx-auto py-2"},[o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-img",{attrs:{src:e.image}})],1),o("v-col",{attrs:{cols:"7"}},[o("v-row",[o("v-card-title",[t._v(t._s(e.title))])],1),o("v-row",[t._v("読んだ日:"+t._s(e.readDate))]),o("v-row",[t._v(t._s(e.description))]),o("v-spacer",{staticClass:"my-2"}),o("v-row",{staticClass:"justify-center"},[o("v-card-actions",[o("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"indigo",to:{name:"BookEdit",params:{id:e.id}}}},[o("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil")])],1)],1)],1)],1)],1)],1)],1)})),1)],1)},S=[],B={name:"book-index-component",props:{books:Array},data(){return{book:"",date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1}},methods:{deleteLocalStrorage(){this.$emit("delete-local-storage")}}},I=B,O=o(1565),$=o(2371),T=o(7118),D=o(2102),E=o(6428),j=o(7047),A=o(2877),R=(0,d.Z)(I,C,S,!1,null,null,null),L=R.exports;v()(R,{VBtn:O.Z,VCard:$.Z,VCardActions:T.h7,VCardTitle:T.EB,VCol:D.Z,VIcon:E.Z,VImg:j.Z,VRow:A.Z,VSpacer:p.Z});var P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-row",[o("v-col",{attrs:{cols:"8",md:"5"}},[o("v-text-field",{attrs:{label:""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),o("v-col",{staticClass:"d-flex align-center",attrs:{cols:"2"}},[o("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.search(t.keyword)}}},[t._v(" search ")])],1)],1),o("v-row",t._l(t.searchResults,(function(e,r){return o("v-col",{key:r,attrs:{cols:"12",md:"6"}},[o("v-card",{staticClass:"mx-auto py-2"},[o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-img",{attrs:{src:e.image}})],1),o("v-col",{attrs:{cols:"7"}},[o("v-row",[o("v-card-title",[t._v(t._s(e.title))])],1),o("v-row",[t._v(t._s(e.description))]),o("v-spacer",{staticClass:"my-2"}),o("v-row",{staticClass:"justify-center"},[o("v-card-actions",[o("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"indigo"},on:{click:function(e){return t.addBookList(r)}}},[o("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1)],1)],1)],1)],1)],1)})),1)],1)},M=[],F={name:"book-serach-component",data(){return{keyword:"",searchResults:[]}},methods:{addBookList(t){this.$emit("add-book-list",this.searchResults[t])},async search(t){this.searchResults=[];const e="https://www.googleapis.com/books/v1/volumes?",o={q:`intitle:${t}`,maxResults:40},r=new URLSearchParams(o);console.log(r.toString()),console.log(e+r);const a=await fetch(e+r).then((t=>t.json()));for(let n of a.items){let t=n.volumeInfo.title,e=n.volumeInfo.imageLinks,o=n.volumeInfo.description;this.searchResults.push({title:t||"",image:e?e.thumbnail:"",description:o?o.slice(0,40):""})}}}},H=F,z=o(5337),J=(0,d.Z)(H,P,M,!1,null,null,null),N=J.exports;v()(J,{VBtn:O.Z,VCard:$.Z,VCardActions:T.h7,VCardTitle:T.EB,VCol:D.Z,VIcon:E.Z,VImg:j.Z,VRow:A.Z,VSpacer:p.Z,VTextField:z.Z});var q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-card",{staticClass:"mx-auto"},[o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-img",{attrs:{src:t.book.image}})],1),o("v-col",{attrs:{cols:"7"}},[o("v-row",[o("v-col"),o("v-col",[o("v-btn",{attrs:{depressed:"",color:"error"},on:{click:t.deleteItem}},[t._v(" delete ")])],1)],1),o("v-row",[o("v-card-title",[t._v("title:"+t._s(t.book.title))])],1),o("v-row",[t._v(t._s(t.book.description))]),o("v-spacer",{staticClass:"my-2"}),o("v-row",[o("v-dialog",{ref:"dialog",attrs:{"return-value":t.date,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[o("v-text-field",t._g(t._b({attrs:{label:"読んだ日:","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",a,!1),r))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[o("v-date-picker",{attrs:{scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[o("v-spacer"),o("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v(" Cancel ")]),o("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date)}}},[t._v(" OK ")])],1)],1)],1),o("v-row",[o("v-textarea",{attrs:{name:"input-7-1",label:"感想",value:"",hint:"Hint text"},model:{value:t.book.memo,callback:function(e){t.$set(t.book,"memo",e)},expression:"book.memo"}})],1),o("v-row",{staticClass:"justify-center"},[o("v-card-actions",[o("v-btn",{staticClass:"secondary",attrs:{to:"/"}},[t._v(" 一覧に戻る ")]),o("v-btn",{staticClass:"info",on:{click:t.updateBookInfo}},[t._v(" 保存 ")])],1)],1)],1)],1)],1)],1)],1)],1)},K=[],U={name:"book-index-component",props:{books:Array},data(){return{book:"",date:"",menu:!1,modal:!1,menu2:!1}},methods:{updateBookInfo(){this.$emit("update-book-info",{id:this.$route.params.id,readDate:this.date,memo:this.book.memo})},deleteItem(){window.confirm("wanna delete?")&&this.$emit("delete-item",{id:this.$route.params.id})}},beforeRouteEnter(t,e,o){o((t=>{t.$nextTick((()=>{t.book=t.books[t.$route.params.id],t.book.readDate?t.date=t.book.readDate:t.date=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}))}))}},G=U,Q=o(2594),W=o(5049),X=o(4350),Y=(0,d.Z)(G,q,K,!1,null,null,null),tt=Y.exports;v()(Y,{VBtn:O.Z,VCard:$.Z,VCardActions:T.h7,VCardTitle:T.EB,VCol:D.Z,VDatePicker:Q.Z,VDialog:W.Z,VImg:j.Z,VRow:A.Z,VSpacer:p.Z,VTextField:z.Z,VTextarea:X.Z}),r.Z.use(x.Z);var et=new x.Z({mode:"history",routes:[{path:"/",name:"BookIndex",component:L},{path:"/search",name:"BookSearch",component:N},{path:"/edit/:id",name:"BookEdit",component:tt}]}),ot=o(1910);r.Z.use(ot.Z);var rt=new ot.Z({});r.Z.config.productionTip=!1,new r.Z({vuetify:rt,router:et,render:t=>t(V)}).$mount("#app")}},e={};function o(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,r,a,n){if(!r){var s=1/0;for(d=0;d<t.length;d++){r=t[d][0],a=t[d][1],n=t[d][2];for(var i=!0,l=0;l<r.length;l++)(!1&n||s>=n)&&Object.keys(o.O).every((function(t){return o.O[t](r[l])}))?r.splice(l--,1):(i=!1,n<s&&(s=n));if(i){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[r,a,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,n,s=r[0],i=r[1],l=r[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var d=l(o)}for(e&&e(r);c<s.length;c++)n=s[c],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(d)},r=self["webpackChunkbookapp"]=self["webpackChunkbookapp"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(8403)}));r=o.O(r)})();
//# sourceMappingURL=app.559f3f87.js.map